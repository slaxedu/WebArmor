import subprocess

def launch_scan(subdomains_file):
    print("\n[-] Nuclei is working . . .")
    output_file = "root/WebArmor/DATA_FOLDER/vulnerability_scanning/nuclei_results.txt"

    try:
        command = f"nuclei -l {subdomains_file} -t root/WebArmor/vulnerability_scanning/utils/templates/ -o {output_file}"
        process = subprocess.Popen(command, shell=True, stdout=subprocess.DEVNULL, stderr=subprocess.DEVNULL)
        process.wait()
        print(f"Output File Name: {output_file}")
    except Exception as e:
        print(f"Error executing command '{command}': {e}")
       
